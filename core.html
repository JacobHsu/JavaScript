<!DOCTYPE html>
<html lang="en">
  <head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">

    <title>Hello JavaScript | JavaScript 核心 </title>
    <meta name="description" content>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    

    <!-- fonts -->
    <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Ubuntu:300,400,500,600,700" rel="stylesheet">

    <!-- stylesheets -->
    <link rel="stylesheet" href="/javascript/style/doc.css">

    <!-- favicon -->
    <link rel="icon" href="/javascript/images/favicon.ico">

    

  </head>
  <body>

   <script>window.__INITIAL_STATE__ = {"page":{"title":"JavaScript 核心","path":"core.html"},"data":{"navigation":{"logo":{"text":"Hello JavaScript","type":"link","path":"index.html"},"main":[{"text":"Array","type":"label"},{"text":"Array.map()","type":"link","path":"array/map.html"},{"text":"Array Methods","type":"link","path":"array/array_methods.html"},{"text":"Array Merge","type":"link","path":"array/array_merge.html"},{"text":"Array Method","type":"link","path":"array/array_method.html"},{"text":"Array Insert","type":"link","path":"array/array_insert.html"},{"text":"Object to Array","type":"link","path":"array/object_to_array.html"},{"text":"Array Filter","type":"link","path":"array/filter.html"},{"text":"Good Part","type":"link","path":"array/good_part.html"},{"text":"Object​","type":"label"},{"text":"Object assign","type":"link","path":"object/assign.html"},{"text":"Object​ keys","type":"link","path":"object/object​_keys.html"},{"text":"Glossary","type":"label"},{"text":"Hoisting","type":"link","path":"glossary/hoisting.html"},{"text":"Operators","type":"label"},{"text":"function","type":"link","path":"operators/function.html"},{"text":"precedence","type":"link","path":"operators/precedence.html"},{"text":"typeof","type":"link","path":"operators/typeof.html"},{"text":"Destructuring assignment","type":"link","path":"operators/destructuring_assignment.html"},{"text":"Statements","type":"label"},{"text":"block","type":"link","path":"statements/block.html"},{"text":"String","type":"label"},{"text":"queue","type":"link","path":"string/queue.html"},{"text":"Cases","type":"label"},{"text":"JS Core","type":"link","path":"core.html"},{"text":"Case string","type":"link","path":"cases/str.html"},{"text":"Case arr","type":"link","path":"cases/arr.html"},{"text":"Case if","type":"link","path":"cases/if.html"},{"text":"Case math","type":"link","path":"cases/math.html"},{"text":"Note","type":"label"},{"text":"Event","type":"link","path":"event.html"},{"text":"Performance","type":"link","path":"performance.html"},{"text":"AJAX","type":"link","path":"ajax.html"},{"text":"Asynchronous","type":"link","path":"asynchronous.html"},{"text":"RESTful API","type":"link","path":"RESTfulAPI.html"},{"text":"Deep Copy","type":"link","path":"copy.html"},{"text":"Closures","type":"link","path":"closures.html"},{"text":"Scope","type":"link","path":"scope.html"},{"text":"Variable","type":"link","path":"variable.html"},{"text":"This","type":"link","path":"this.html"},{"text":"delete","type":"link","path":"operators/delete.html"},{"text":"url","type":"link","path":"url.html"},{"text":"F2E","type":"label"},{"text":"Promise","type":"link","path":"promise.html"},{"text":"GraphQL","type":"link","path":"F2E/GraphQL.html"},{"text":"RegExp","type":"link","path":"RegExp.html"},{"text":"http","type":"label"},{"text":"caching","type":"link","path":"http/caching.html"},{"text":"Cookie","type":"link","path":"F2E/cookie.html"},{"text":"Header","type":"link","path":"F2E/header.html"},{"text":"Number","type":"link","path":"num.html"},{"text":"Token","type":"link","path":"F2E/token.html"},{"text":"Operators","type":"link","path":"operators.html"},{"text":"Arrow Function","type":"link","path":"arrowFunction.html"},{"text":"SWAGGER","type":"label"},{"text":"UI","type":"link","path":"swagger/ui.html"},{"text":"To HTML","type":"link","path":"swagger/to-html.html"},{"text":"SUPPORT AND FEEDBACK","type":"label"},{"text":"Raise an Issue on Github","type":"link","path":"https://github.bus.zalan.do/stargate/hexo-stargate-doc-theme-seed/issues/new"}]}},"config":{"timezone":"UTC","root":"/javascript/","time_format":"HH:mm:ss","theme":"../node_modules/hexo-theme-doc","theme_config":{"swagger_ui":{"version":2,"permalinks":true,"api_explorer":true,"download":"Download specification","show_extensions":false,"deep_linking":true,"display_operation_id":false,"doc_expansion":"none"},"search":{"skip":false,"background":false,"route":"/lunr.json"},"favicon":"images/favicon.ico"}}}</script>

    <div id="react-navigation-root"><div class="doc-navigation" data-reactroot><nav class="doc-navbar"><a href="/javascript/index.html" class="doc-navbar__logo"><img src="/javascript/images/logo.png" class="doc-navbar__logo__img"><span class="doc-navbar__logo__text">Hello JavaScript</span></a><i class="dc-icon dc-icon--close dc-icon--interactive doc-sidebar-close doc-navbar__sidebar-close doc-navbar__sidebar-close--desktop"></i><i class="dc-icon dc-icon--menu dc-icon--interactive doc-sidebar-toggle doc-navbar__sidebar-toggle"></i></nav><nav class="doc-sidebar"><div class="doc-sidebar__vertical-menu"><i class="dc-icon dc-icon--menu dc-icon--interactive doc-sidebar-toggle doc-sidebar-toggle--primary doc-sidebar__vertical-menu__item"></i><i class="dc-icon dc-icon--search dc-icon--interactive doc-sidebar__vertical-menu__item doc-sidebar__vertical-menu__item--primary"></i></div><div class="doc-sidebar-content"><div class="doc-sidebar__search-form"></div><ul class="doc-sidebar-list"></ul></div></nav></div></div>
    <div class="doc-content">
  <div class="dc-page">
    <div class="dc-card">
      <div id="react-search-results-root"></div>
      <div id="page-content" class="doc-formatting">
        <h2 id="JavaScript-直譯器轉換過程"><a href="#JavaScript-直譯器轉換過程" class="headerlink" title="JavaScript 直譯器轉換過程"></a>JavaScript 直譯器轉換過程</h2><p>語法基本單元化(Tokenizing)<br>抽象結構樹AST(Abstract Syntax Tree)<br>代碼生成  </p>
<p><a href="https://esprima.org/demo/parse.html" target="_blank" rel="noopener">esprima.org</a>  </p>
<blockquote>
<p>Parser produces the (beautiful) syntax tree  </p>
</blockquote>
<h3 id="Lexical-Scope-語法作用域-靜態作用域"><a href="#Lexical-Scope-語法作用域-靜態作用域" class="headerlink" title="Lexical Scope 語法作用域 (靜態作用域)"></a>Lexical Scope 語法作用域 (靜態作用域)</h3><p>直譯器 靜態作用域 語法解析時就已經確定作用域 不會改變  JS屬於靜態作用域<br>執行 動態作用域  作用域是函數調用時才決定     </p>
<h1 id="提升（Hoisting）"><a href="#提升（Hoisting）" class="headerlink" title="提升（Hoisting）"></a>提升（Hoisting）</h1><p>在創造環境把記憶體空間準備好，這個流程稱為 提升（Hoisting）  </p>
<p><code>var name = &#39;Jacob&#39;</code> // 創造環境 name放入記憶體 name = undefined</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name; <span class="comment">//先宣告變數</span></span><br><span class="line">name = <span class="string">'Jacob'</span> <span class="comment">//然後才賦予值 執行階段</span></span><br></pre></td></tr></table></figure>
<p><strong>函數陳述式</strong> 在創造階段就會<strong>優先載入</strong>  </p>
<blockquote>
<p>創造階段函式已可以運行 </p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">'1'</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>a</td>
<td>undefined</td>
</tr>
<tr>
<td>fn</td>
<td>function ..</td>
</tr>
</tbody>
</table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fn() <span class="comment">//放前面可因為 創造階段 已可以運行</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fn() <span class="comment">//放前面 uncaught typeError: fn is not a function </span></span><br><span class="line"><span class="built_in">console</span>.log(fn) <span class="comment">//undefined</span></span><br><span class="line"><span class="keyword">var</span> fn = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="comment">//函式表達式  </span></span><br><span class="line">    <span class="built_in">console</span>.log()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>創造階段函式優先</strong>  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//創造階段</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span> (<span class="params"></span>) </span>&#123;  </span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> fn;</span><br><span class="line"></span><br><span class="line"><span class="comment">//執行階段</span></span><br><span class="line">fn = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; </span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(fn) <span class="comment">//2</span></span><br></pre></td></tr></table></figure>
<p>程式<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span> (<span class="params"></span>) </span>&#123;  </span><br><span class="line">    <span class="built_in">console</span>.log(a)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = <span class="string">'hello'</span></span><br><span class="line">fn()</span><br></pre></td></tr></table></figure></p>
<p>實際運作拆解<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//創造階段</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;  </span><br><span class="line">    <span class="built_in">console</span>.log(a)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="comment">//執行階段</span></span><br><span class="line">a = <span class="string">'hello'</span></span><br><span class="line">fn ()</span><br></pre></td></tr></table></figure></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a) &#123; <span class="comment">// undefined 在 JavaScript 代表著 false</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'hello'</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'jacob'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">fn() <span class="comment">//因為函式在執行時，變數還沒有被賦予值</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h1 id="同步-非同步"><a href="#同步-非同步" class="headerlink" title="同步/非同步"></a>同步/非同步</h1><p>JS是單執行序 是同步的<br>可利用 <code>事件佇列</code> 實現非同步  同步概念的先跑完 非同步行為先移至事件佇列  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'someone call'</span>)</span><br><span class="line">&#125;,<span class="number">3000</span>) <span class="comment">//不管如何調整秒數 都不會優先執行  0也是最後執行</span></span><br></pre></td></tr></table></figure>
<h1 id="LHS"><a href="#LHS" class="headerlink" title="LHS"></a>LHS</h1><p><code>1= true</code><br>1 = true 會出現 left-hand side (LHS)，實際上在此就無法繼續執行<br><code>Uncaught ReferenceError: Invalid left-hand side in assignment</code> </p>
<p><code>console.log(a)</code><br>not defined 但其實是 RHS 錯誤，只是 JavaScript 並不會直接顯示 RHS 錯誤</p>
<h1 id="陳述式-表達式"><a href="#陳述式-表達式" class="headerlink" title="陳述式 表達式"></a>陳述式 表達式</h1><p><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Statements" target="_blank" rel="noopener">陳述式與宣告分類</a><br><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Guide/Expressions_and_Operators" target="_blank" rel="noopener">運算式與運算子</a><br><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank" rel="noopener">正規表達式</a>  </p>
<p>陳述式 不會回傳結果<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// expression</span></span><br><span class="line"><span class="number">100</span> + <span class="number">100</span></span><br><span class="line"><span class="comment">// statement</span></span><br><span class="line"><span class="keyword">var</span> foo;</span><br><span class="line"><span class="keyword">if</span>(<span class="number">1</span>==<span class="number">1</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 物件實字  </span></span><br><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">    name : <span class="string">"Jacob"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="立即函式"><a href="#立即函式" class="headerlink" title="立即函式"></a>立即函式</h1><p>(匿名函式())  //  匿名函式 外層小括號包起來  並且在後面加入() 來立即執行函式<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Jacob'</span>)</span><br><span class="line">&#125;())</span><br></pre></td></tr></table></figure></p>
<h1 id="ASI-自動分號插入"><a href="#ASI-自動分號插入" class="headerlink" title="ASI  自動分號插入"></a>ASI  自動分號插入</h1><p>自動分號插入(<code>automatic semicolon insertion, ASI</code>) 是一種程序解析技術，<br>它在JavaScript 程序的語法分析(parsing) 階段起作用。</p>
<p>“不會” 發生 ASI 的規則：</p>
<ol>
<li>新的一行是 <code>(</code>、<code>[</code>、<code>/</code> 開始 (容易出錯的地方)  </li>
<li>新的一行以 <code>+</code>、<code>-</code>、<code>*</code>、<code>%</code> 作開始 (會影響執行結果)    </li>
<li>新的一行以 <code>,</code>、<code>.</code> 作開始 (需注意執行結果)  </li>
</ol>
<p>遇到以上的標點符號<strong>前方加入分號</strong>是解決辦法    </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 執行錯誤</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; &#125;)()</span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; &#125;)()</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 正確</span></span><br><span class="line">;(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; &#125;)()</span><br><span class="line">;(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; &#125;)()</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">&#125;)()</span><br><span class="line"><span class="comment">// var a = 1(function()&#123; console.log(a);&#125;)()</span></span><br></pre></td></tr></table></figure>
<h1 id="動態型別"><a href="#動態型別" class="headerlink" title="動態型別"></a>動態型別</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//執行階段才會賦予確立型別</span></span><br><span class="line"><span class="keyword">var</span> myName = <span class="string">'Jacob'</span></span><br><span class="line"><span class="keyword">var</span> myName; <span class="comment">// 先賦予命名空間</span></span><br><span class="line">myName = <span class="string">'Jacob'</span> <span class="comment">//執行階段才確認型別</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> myName)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="string">'Jacob'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//顯性的轉換 explicit conversion</span></span><br><span class="line"><span class="comment">//隱性的轉換 implicit conversion</span></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">1</span> <span class="comment">//number  </span></span><br><span class="line">num = num + <span class="string">''</span> <span class="comment">//string  </span></span><br><span class="line">num = num * <span class="number">3</span> <span class="comment">//number  </span></span><br><span class="line"><span class="built_in">console</span>.log(num, <span class="keyword">typeof</span> num)</span><br></pre></td></tr></table></figure>
<h1 id="原始型別及物件型別"><a href="#原始型別及物件型別" class="headerlink" title="原始型別及物件型別"></a>原始型別及物件型別</h1><p>原始型別 可用包裹物件的所有方法<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">'Jacob'</span></span><br><span class="line"><span class="keyword">var</span> e = <span class="keyword">new</span> <span class="built_in">String</span>(a) <span class="comment">//但是原始型別盡量不用此方式 建構式 宣告 </span></span><br><span class="line"><span class="built_in">console</span>.log(a, e) </span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> e) <span class="comment">// 建構式宣告的非原始型別 是物件型別</span></span><br></pre></td></tr></table></figure></p>
<p>凡是使用 <code>new</code> 所建構的型別，在 typeof 都會是 <code>object</code><br>透過建構式來建立的物件，<code>var a = new Object(); if(a)</code> 一樣是會被判定 true，因為物件的記憶體已經存在了</p>
<h1 id="運算子"><a href="#運算子" class="headerlink" title="運算子"></a>運算子</h1><p><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Guide/Expressions_and_Operators" target="_blank" rel="noopener">運算子</a><br><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Operators/Operator_Precedence" target="_blank" rel="noopener">運算子優先序</a>  </p>
<p>賦值的優先性很低只有3 <code>Assignment</code>  </p>
<p><code>console.log(1&lt;2&lt;3); //true</code><br><code>console.log(3&gt;2&gt;1); //false</code>  </p>
<p><code>console.log(3&gt;2) // true</code><br><code>console.log(1&gt;1) // false</code>  </p>
<p>a = b = 3 // a是收 3賦予至b的 ‘回傳結果’ </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> b = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(b, <span class="string">'a'</span>, &#123;</span><br><span class="line">    value: <span class="number">2</span>,</span><br><span class="line">    writable: <span class="literal">false</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">b.a = <span class="number">3</span></span><br><span class="line"><span class="built_in">console</span>.log(b.a) <span class="comment">//2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">3</span>;  </span><br><span class="line">a = b.a = <span class="number">1</span>;  </span><br><span class="line"><span class="built_in">console</span>.log(a, b.a) <span class="comment">// 1, 2  </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// b.a 是表達式 接收 1  b.a = 1 跟 b.a沒有關連性</span></span><br></pre></td></tr></table></figure>
<p><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Operators/Operator_Precedence" target="_blank" rel="noopener">Operators/Operator_Precedence</a>  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="built_in">console</span>.log(++a*a) <span class="comment">//a + 1   11*11 121</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="built_in">console</span>.log(--a*a) <span class="comment">//9*9 81</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>, b =<span class="number">2</span>, c= <span class="number">0</span>;  </span><br><span class="line"><span class="built_in">console</span>.log(c || c &amp;&amp; c || a)  </span><br><span class="line"><span class="comment">// 	Logical AND 6  	  Logical OR 5  從左至右</span></span><br><span class="line"><span class="built_in">console</span>.log(c || <span class="number">0</span> &amp;&amp; <span class="number">0</span> || a)  </span><br><span class="line"><span class="built_in">console</span>.log(c || <span class="number">0</span> || a)  </span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">0</span> || <span class="number">0</span> || a)  </span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">0</span>|| a)  </span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">0</span>|| <span class="number">1</span>)  </span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span> + <span class="number">1</span> === <span class="number">1</span>  </span><br><span class="line"><span class="built_in">console</span>.log(a = <span class="number">2</span> === <span class="number">1</span>)  </span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">false</span>)  </span><br><span class="line"></span><br><span class="line"><span class="number">1000</span> &lt; <span class="number">10000</span> &lt; <span class="number">10</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">true</span> &lt; <span class="number">10</span>)   </span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span> &lt; <span class="number">10</span>)   </span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">true</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">'1'</span>; <span class="keyword">var</span> b = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">var</span> c = (a&gt;b) ? a*b : sum(a,b);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a, b</span>) </span>&#123;<span class="keyword">return</span> a+b&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'1'</span>&gt;<span class="number">2</span>) </span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>&gt;<span class="number">2</span>)  <span class="comment">// ture</span></span><br><span class="line">sum(a,b)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'1'</span>+<span class="number">2</span>) <span class="comment">//12  string型別相加  </span></span><br><span class="line"><span class="built_in">console</span>.log(c))  </span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">12</span>)</span><br></pre></td></tr></table></figure>
<h1 id="嚴格相等-寬鬆相等"><a href="#嚴格相等-寬鬆相等" class="headerlink" title="嚴格相等 寬鬆相等"></a>嚴格相等 寬鬆相等</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>) <span class="comment">//數字1 藍色</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'1'</span>) <span class="comment">//字串1  黑色</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//嚴格相等 特殊狀況</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span> === <span class="literal">NaN</span>) <span class="comment">//false </span></span><br><span class="line"><span class="built_in">console</span>.log(+<span class="number">0</span> === <span class="number">-0</span>) <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//寬鬆相等</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span> == <span class="string">'1'</span>) <span class="comment">// true 布林和字串轉為數值</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="string">'1'</span>))  </span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="string">'0x11'</span>)) <span class="comment">//17 0x是指十六進制數  16+1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">17</span>==<span class="string">'0x11'</span>) <span class="comment">//true  </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Null Undefined 不會轉數字型別  </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="literal">null</span>)) <span class="comment">//0</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="literal">undefined</span>))  <span class="comment">//NaM </span></span><br><span class="line"><span class="built_in">console</span>.log( <span class="literal">null</span> == <span class="literal">undefined</span>) <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log( <span class="literal">null</span> === <span class="literal">undefined</span>) <span class="comment">//false  </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 物件與非物件 使用包裹物件轉換 (Number String)</span></span><br><span class="line"><span class="built_in">console</span>.log([<span class="number">10</span>])</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">10</span> == [<span class="number">10</span>]) <span class="comment">// [10] Number([10]) 10</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log( &#123;<span class="attr">A</span>:<span class="string">'A'</span>&#125;) <span class="comment">//__proto__: Object  </span></span><br><span class="line"><span class="built_in">console</span>.log( <span class="built_in">String</span>(&#123;<span class="attr">A</span>:<span class="string">'A'</span>&#125;)) <span class="comment">// [object Object]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//物件與物件 比對的不是值 是參考位址 參考同一個記憶體  </span></span><br><span class="line"><span class="built_in">console</span>.log( &#123;&#125;==&#123;&#125; ) <span class="comment">//false  物件的參考位址不同</span></span><br><span class="line"><span class="built_in">console</span>.log( []==[] ) <span class="comment">//false 同樣是物件型別  比對的都是參考位址</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = [] </span><br><span class="line"><span class="keyword">var</span> b = a ;<span class="comment">//b取得的是a的參考位址</span></span><br><span class="line"><span class="built_in">console</span>.log( a===b) <span class="comment">//a,b使用同個參考位址</span></span><br></pre></td></tr></table></figure>
<p><a href="https://dorey.github.io/JavaScript-Equality-Table/" target="_blank" rel="noopener">JavaScript Equality Table</a>  </p>
<h1 id="Truthy"><a href="#Truthy" class="headerlink" title="Truthy"></a>Truthy</h1><p><a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Truthy" target="_blank" rel="noopener">Truthy（真值）</a></p>
<p><code>console.log(new Boolean(false)) //Boolean{false} 物件</code>  <strong>proto</strong>: Object </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">false</span>)) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Truthy'</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Falsy'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="邏輯運算子及函式預設值"><a href="#邏輯運算子及函式預設值" class="headerlink" title="邏輯運算子及函式預設值"></a>邏輯運算子及函式預設值</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span> &amp;&amp; <span class="number">2</span>) <span class="comment">//2</span></span><br><span class="line"><span class="built_in">console</span>.log(![]) <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 預設值為 0 的解決方法 使用三元運算子</span></span><br><span class="line"><span class="comment">// 當 cash 是數值或為 0 時，使用 cash 的數值</span></span><br><span class="line"><span class="comment">// 如果 cash 是 NaN 時，則直接套用 500</span></span><br><span class="line">cash = (cash || cash === <span class="number">0</span>)? cash: <span class="number">500</span>; <span class="comment">// or 左右兩邊放的是表達式</span></span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 物件取值</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[求值策略](https://zh.wikipedia.org/wiki/求值策略)  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">點 與 中括弧(可用變數方式)</span></span><br><span class="line"><span class="string">物件取值屬性用字串</span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>js</span><br><span class="line"><span class="keyword">const</span> family = &#123;</span><br><span class="line">    name: <span class="string">'Hsu'</span>,</span><br><span class="line">    members: &#123;</span><br><span class="line">        mon: <span class="string">'mon'</span>,</span><br><span class="line">        dad: <span class="string">'dad'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    others: <span class="string">'others'</span>,</span><br><span class="line">    <span class="number">1</span>: <span class="number">10</span>,</span><br><span class="line">    <span class="string">'$-myFamily'</span>: <span class="string">'my family'</span>,</span><br><span class="line">    callFamily: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'call family'</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">'Hello'</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'I am groot '</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="comment">//物件實字</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(family.name);</span><br><span class="line"><span class="built_in">console</span>.log(family[<span class="string">'name'</span>]);</span><br><span class="line"><span class="keyword">const</span> a = <span class="string">'name'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(family[a]);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(family[<span class="number">1</span>]) <span class="comment">//OK</span></span><br><span class="line"><span class="built_in">console</span>.log(family<span class="number">.1</span>) <span class="comment">//FAIL</span></span><br><span class="line"></span><br><span class="line">family.callFamily();</span><br><span class="line">family[<span class="string">'callFamily'</span>]();</span><br><span class="line"></span><br><span class="line"><span class="comment">//add </span></span><br><span class="line">family[<span class="string">'$'</span>] = <span class="string">'money'</span>  </span><br><span class="line"><span class="keyword">delete</span> family.others</span><br><span class="line"><span class="keyword">delete</span> family[<span class="string">'$'</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//利用陣列及for迴圈 執行物件的函式</span></span><br><span class="line"><span class="keyword">var</span> familyMethod = [<span class="string">'callFamily'</span>,<span class="string">'Hello'</span>]</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt; familyMethod.length;i++) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(familyMethod[i])</span><br><span class="line">    family[familyMethod[i]]();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//變數無法被刪除，屬性才可以</span></span><br><span class="line"><span class="keyword">var</span> a=<span class="number">1</span>;<span class="comment">//變數</span></span><br><span class="line">b=<span class="number">2</span>; <span class="comment">//屬性</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>)</span><br><span class="line"><span class="keyword">delete</span> a;</span><br><span class="line"><span class="keyword">delete</span> b; <span class="comment">//b is not defind</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>)</span><br></pre></td></tr></table></figure>
<h2 id="物件記憶體空間"><a href="#物件記憶體空間" class="headerlink" title="物件記憶體空間"></a>物件記憶體空間</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    name: <span class="string">'Jacob'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person2 = person</span><br><span class="line">person2 = <span class="string">'Hsu'</span> <span class="comment">//find 0x01 change name's value</span></span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>參考物件</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>0x01</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>Jacob</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>物件變數</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>person</td>
<td>0x01</td>
</tr>
<tr>
<td>person2</td>
<td>0x01</td>
</tr>
</tbody>
</table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 見大括號 生成新的參考物件  </span></span><br><span class="line"><span class="keyword">var</span> company = &#123;</span><br><span class="line">    team: <span class="string">'dev'</span>,</span><br><span class="line">    member: &#123;</span><br><span class="line">        rd: <span class="string">'Jacob'</span></span><br><span class="line">        qa: <span class="string">'Claire'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>參考物件</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>0x01</td>
<td></td>
</tr>
<tr>
<td>team</td>
<td>dev</td>
</tr>
<tr>
<td>member</td>
<td>0x02</td>
</tr>
</tbody>
</table>
<p>| 0x02       |         |<br>| rd         | Jacob   |<br>| qa         | Claire  |</p>
<table>
<thead>
<tr>
<th>物件變數</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>company</td>
<td>0x01</td>
</tr>
</tbody>
</table>
<h1 id="純值無法新增屬性"><a href="#純值無法新增屬性" class="headerlink" title="純值無法新增屬性"></a>純值無法新增屬性</h1><p>js兩種型別 不是純值 就是物件 (function是物件)<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> newStr = <span class="string">'myname'</span> <span class="comment">//純值</span></span><br><span class="line">newStr.name = <span class="string">'Jacob'</span></span><br><span class="line"><span class="built_in">console</span>.log(newStr)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> newStr2 = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'myname'</span>) <span class="comment">//建構式 物件</span></span><br><span class="line">newStr2.name = <span class="string">'Jacob'</span></span><br><span class="line"><span class="built_in">console</span>.log(newStr2)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callFn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'fun'</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(callFn)</span><br><span class="line"><span class="built_in">console</span>.dir(callFn) <span class="comment">//看見物件所有屬性內容</span></span><br></pre></td></tr></table></figure></p>
<p>純值 傳值(call by value)<br>物件(陣列 函式)) 傳參考(call by reference)</p>
<h1 id="深淺拷貝"><a href="#深淺拷貝" class="headerlink" title="深淺拷貝"></a>深淺拷貝</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> family = &#123;</span><br><span class="line">    name: <span class="string">'Hsu'</span>,</span><br><span class="line">    member: &#123;</span><br><span class="line">        father: <span class="string">'dad'</span>,</span><br><span class="line">        monther: <span class="string">'mom'</span>,</span><br><span class="line">        other: <span class="string">'someone'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> newFamily = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> family) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key, family[key]);</span><br><span class="line">    newFamily[key] =family[key];</span><br><span class="line">&#125;</span><br><span class="line">newFamily.name = <span class="string">'Chen'</span></span><br><span class="line"><span class="built_in">console</span>.log(family, newFamily)</span><br><span class="line">newFamily.member.other = <span class="string">'stranger'</span></span><br><span class="line"><span class="built_in">console</span>.log(family, newFamily) <span class="comment">//for in只能做第一層的複製 第二層是傳參考的形式</span></span><br><span class="line"><span class="comment">//淺層複製  js for in, jQuery extend, ES6 assign</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//jQuery</span></span><br><span class="line"><span class="keyword">var</span> newFamily2 = jQuery.extend(&#123;&#125;, family);</span><br><span class="line"><span class="comment">//ES6</span></span><br><span class="line"><span class="keyword">var</span> newFamily3 = <span class="built_in">Object</span>.assign(&#123;&#125;, family)</span><br><span class="line"></span><br><span class="line"><span class="comment">//深層複製 deep copy 會將原本的物件轉成字串再轉回來 傳參考特性會沒有 </span></span><br><span class="line"><span class="comment">//console.log(family, JSON.stringify(family))</span></span><br><span class="line"><span class="built_in">console</span>.log(family, <span class="built_in">JSON</span>.parse( <span class="built_in">JSON</span>.stringify(family) )) </span><br><span class="line"><span class="keyword">var</span> newFamily4 = <span class="built_in">JSON</span>.parse( <span class="built_in">JSON</span>.stringify(family) );</span><br><span class="line"><span class="built_in">console</span>.log(family === newFamily4)</span><br><span class="line">newFamily4.name = <span class="string">'Liao'</span></span><br><span class="line">newFamily4.member.other = <span class="string">'Deep'</span></span><br><span class="line"><span class="built_in">console</span>.log(family, newFamily4) <span class="comment">//兩者完全無關  參考也都不一樣</span></span><br></pre></td></tr></table></figure>
<h1 id="陣列"><a href="#陣列" class="headerlink" title="陣列"></a>陣列</h1><p>陣列是物件型別的一種  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> newArray = [</span><br><span class="line">    <span class="number">1</span>,</span><br><span class="line">    <span class="string">'Str'</span>,</span><br><span class="line">    <span class="literal">true</span>,</span><br><span class="line">    &#123;</span><br><span class="line">        name:<span class="string">'Jacob'</span></span><br><span class="line">    &#125;</span><br><span class="line">];</span><br><span class="line"><span class="built_in">console</span>.log(newArray[<span class="number">3</span>]); <span class="comment">//[object Object] &#123; name: "Jacob"&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(newArray<span class="number">.3</span>); <span class="comment">//"error"</span></span><br><span class="line">newArray.push(<span class="number">5</span>);</span><br><span class="line">newArray.name = <span class="string">'Hsu'</span>; <span class="comment">//物件可隨意增加屬性 </span></span><br><span class="line">newArray[<span class="number">5</span>] =<span class="string">'Chen'</span>;</span><br><span class="line">newArray[<span class="number">7</span>] =<span class="string">'Liao'</span>; <span class="comment">//陣列6 empty 取值undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(newArray); <span class="comment">//name不屬於陣列裡面的長度</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;newArray.length;i++) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(newArray[i])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a, a[<span class="number">1</span>], a.length)</span><br><span class="line"></span><br><span class="line"><span class="comment">//forEach 不是實體屬性 是陣列原型的屬性  </span></span><br><span class="line">a.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">i</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">(<span class="number">3</span>) [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="number">0</span>: <span class="number">1</span></span><br><span class="line"><span class="number">1</span>: <span class="number">2</span></span><br><span class="line"><span class="number">2</span>: <span class="number">3</span></span><br><span class="line">length: <span class="number">3</span>  <span class="comment">// length 也是一個物件的屬性  </span></span><br><span class="line">__proto__: <span class="built_in">Array</span>(<span class="number">0</span>) <span class="comment">//陣列的原型  可以透過點運算子不斷向上查找取得方法 例:forEach</span></span><br><span class="line">    ...</span><br><span class="line">    __proto__: <span class="built_in">Object</span> <span class="comment">//  陣列的原型 繼承物件的原型  所以陣列也可以使用物件原型的方法  例:toString</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = [<span class="number">4</span> ,<span class="number">5</span> ,<span class="number">6</span>];</span><br><span class="line"><span class="comment">//新增方法到原型鏈上</span></span><br><span class="line">a.__proto__.getLast = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>[<span class="keyword">this</span>.length<span class="number">-1</span>]; <span class="comment">//b[b.length-1]</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(a, b, a.getLast(), a.toString())</span><br></pre></td></tr></table></figure>
<h1 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h1><p><a href="https://zh.wikipedia.org/wiki/JSON" target="_blank" rel="noopener">JSON - 維基百科</a><br>儘管JSON是JavaScript的一個子集，但JSON是獨立於語言的文字格式  </p>
<p>JSON所有的屬性一定都是字串的形式<br>物件可以用單引號<code>&#39;</code> 但JSON一律用雙引號<code>&quot;</code>  </p>
<p>SON 的格式是非常嚴格的，多一個逗號少一個逗號，都會導致出現錯誤，<br>所以最後一筆不可多了一個逗號</p>
<p>透過 <code>JSON.parse()</code> 出來的資料是一個物件，所以物件會有傳參考特性<br>後續的值變更，原本的值也會變更  </p>
<p>原生AJAX讀JSON<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//原生AJAX</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getData</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.response)</span><br><span class="line">    <span class="keyword">var</span> data = <span class="built_in">JSON</span>.parse(<span class="keyword">this</span>.response);</span><br><span class="line">    <span class="built_in">console</span>.log(data);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> oReq = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">oReq.addEventListener(<span class="string">"load"</span>, getData);</span><br><span class="line">oReq.open(<span class="string">"GET"</span>,<span class="string">"family.json"</span>) <span class="comment">//傳入的字串</span></span><br><span class="line">oReq.send();</span><br></pre></td></tr></table></figure></p>
<p>透過開發工具Network可以看結果  </p>
<h1 id="function"><a href="#function" class="headerlink" title="function"></a>function</h1><p>在 JavaScript 中 function 是一個很特別的存在，它是可以當成物件來使用，<br>function 也是物件的一種，只是它是擁有程式區塊的能力物件而已<br>透過 「.」 即可做到新增屬性與值，所以function 在 JavaScript 是一個特殊的物件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">statementFn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'函式陳述式'</span>, <span class="string">'具名函式'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(statementFn);</span><br><span class="line">&#125;</span><br><span class="line">statementFn();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> expressionFn = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'函式表達式'</span>,<span class="string">'匿名函式'</span>); <span class="comment">//不是所有匿名函式 都是函式表達式</span></span><br><span class="line">    <span class="built_in">console</span>.log(expressionFn);</span><br><span class="line">&#125;</span><br><span class="line">expressionFn()</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> functionC = <span class="function"><span class="keyword">function</span> <span class="title">functionD</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(functionC, functionD)</span><br><span class="line">    <span class="comment">//具名函式能夠在函式內被調用</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(functionC)</span><br><span class="line"><span class="built_in">console</span>.log(functionC, functionD) <span class="comment">//functoinD is not defind</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">1</span></span><br><span class="line"><span class="keyword">var</span> giveMeMoney = <span class="function"><span class="keyword">function</span> <span class="title">giveMoreMoney</span>(<span class="params">coin</span>) </span>&#123;</span><br><span class="line">    num += <span class="number">1</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Exec giveMeMoney'</span>,num,coin)</span><br><span class="line">    <span class="keyword">return</span> coin&gt;<span class="number">100</span> ? coin : giveMoreMoney(num * coin)</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(giveMeMoney(<span class="number">30</span>)) <span class="comment">//加錢到超過100元才停止</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callSomeFn</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">    fn();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 函數陳述式沒有名稱無法執行</span></span><br><span class="line"><span class="comment">// function (fn) &#123;</span></span><br><span class="line"><span class="comment">//     fn();</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// 傳入的參數函式 如同函式表達式  不需要名稱</span></span><br><span class="line">callSomeFn(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="string">'執行函式'</span>) &#125;) <span class="comment">// 2定義一段函式並賦予到參數上</span></span><br></pre></td></tr></table></figure>
<h1 id="立即函式-IIFE"><a href="#立即函式-IIFE" class="headerlink" title="立即函式(IIFE)"></a>立即函式(IIFE)</h1><p><a href="https://zh.wikipedia.org/wiki/立即调用函数表达式" target="_blank" rel="noopener">立即呼叫函式表達式</a>（英文：immediately-invoked function expression，縮寫：IIFE）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fnA</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'IIFE'</span>)</span><br><span class="line">&#125;</span><br><span class="line">fnA();</span><br><span class="line"></span><br><span class="line"><span class="comment">// IIFE</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">IIFE</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'立即函式'</span>, <span class="string">'IIFE'</span>, <span class="string">'沒有fnA也可以執行'</span>,<span class="string">'這裡是具名函式'</span>)</span><br><span class="line">    <span class="comment">// 1. 立即執行</span></span><br><span class="line">    <span class="comment">// 2. 無法再函式外被再次執行  </span></span><br><span class="line">&#125;());  <span class="comment">//括號內層再補上小括號 </span></span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">IIFE</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;)();  <span class="comment">//小括號可以移到外層    </span></span><br><span class="line"><span class="built_in">console</span>.log(IIFE); <span class="comment">//IIFE is not defined</span></span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'立即函式'</span>, <span class="string">'IIFE'</span>, <span class="string">'沒有fnA也可以執行'</span>)</span><br><span class="line">    <span class="comment">// 1. 立即執行</span></span><br><span class="line">    <span class="comment">// 2. 無法再函式外被再次執行  </span></span><br><span class="line">&#125;());</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">'Jacob'</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(name)</span><br><span class="line">    <span class="comment">// 限制變數的作用域</span></span><br><span class="line">&#125;)(); </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> whereParameter = (<span class="function"><span class="keyword">function</span>(<span class="params">parameter</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(parameter)</span><br><span class="line">    <span class="keyword">return</span> parameter;</span><br><span class="line">&#125;)(<span class="string">'參數在這'</span>); </span><br><span class="line"><span class="built_in">console</span>.log(whereParameter);</span><br><span class="line"></span><br><span class="line"><span class="comment">//記得養成好習慣 在立即函式前或後加分號</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 立即函式 傳遞變數</span></span><br><span class="line"><span class="keyword">var</span> a = &#123;&#125;;</span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;</span><br><span class="line">    b.person = <span class="string">'jacob'</span>;</span><br><span class="line">&#125;)(a)</span><br><span class="line">;(<span class="function"><span class="keyword">function</span>(<span class="params">c</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(c.person); <span class="comment">//把另一個立即函式定義的變數印出來</span></span><br><span class="line">&#125;)(a)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 大型框架下 用全域物件傳值</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">global</span>)</span>&#123;</span><br><span class="line">    global.person = <span class="string">'jacob'</span>;</span><br><span class="line">&#125;)(<span class="built_in">window</span>)</span><br><span class="line">;(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(person); <span class="comment">//把另一個立即函式定義的變數印出來</span></span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>
<h1 id="參數"><a href="#參數" class="headerlink" title="參數"></a>參數</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// callback function</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cbFn</span>(<span class="params">name, a</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(name+<span class="string">'你好'</span>+a)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">funcB</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">    fn(<span class="string">'Jacob'</span>, <span class="number">1</span>) <span class="comment">//實際執行在這</span></span><br><span class="line">&#125;</span><br><span class="line">funcB(cbFn) <span class="comment">//"Jacob你好1"</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callArg</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a, <span class="built_in">arguments</span>); <span class="comment">//arguments 是一個類陣列 不是純陣列</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> index = <span class="number">0</span>; index &lt; <span class="built_in">arguments</span>.length; index++) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[index]); <span class="comment">// 1 2 3 '4' </span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 類陣列並沒有絕大多數陣列可使用的方法  </span></span><br><span class="line">    <span class="comment">// "TypeError: arguments.forEach is not a function</span></span><br><span class="line">    <span class="built_in">arguments</span>.forEach(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">callArg(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="string">'4'</span>) <span class="comment">//1, [object Arguments] &#123; 0: 1, 1: 2, 2: 3, 3: "4"&#125;</span></span><br></pre></td></tr></table></figure>
<h1 id="閉包-Closure"><a href="#閉包-Closure" class="headerlink" title="閉包 Closure"></a>閉包 Closure</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">storeMoney</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">var</span> money = <span class="number">1000</span>;</span><br><span class="line">   <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">price</span>) </span>&#123;</span><br><span class="line">      money = money + price</span><br><span class="line">      <span class="keyword">return</span> money</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//console.log( storeMoney()(100) ) // 1100</span></span><br><span class="line"><span class="keyword">var</span> mingMoney = storeMoney()</span><br><span class="line"><span class="built_in">console</span>.log(mingMoney) <span class="comment">//function(price) &#123;</span></span><br><span class="line"><span class="built_in">console</span>.log(mingMoney(<span class="number">100</span>))</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">arrFunc</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++) &#123;</span><br><span class="line">        arr.push(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(i);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'i'</span>, i) <span class="comment">// 3 3 3 </span></span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">var</span> fn = arrFunc();</span><br><span class="line">fn[<span class="number">0</span>]();</span><br><span class="line">fn[<span class="number">1</span>]();</span><br><span class="line">fn[<span class="number">2</span>]();</span><br></pre></td></tr></table></figure>
<p>透過 立即函式<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">arrFunc</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++) &#123;</span><br><span class="line">        <span class="comment">// 立即函式一個功能 限制作用域  </span></span><br><span class="line">        (<span class="function"><span class="keyword">function</span>(<span class="params">j</span>)</span>&#123;</span><br><span class="line">            arr.push(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(j);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;)(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'i'</span>, i) <span class="comment">// 0 1 2 </span></span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">var</span> fn = arrFunc();</span><br><span class="line">fn[<span class="number">0</span>]();</span><br><span class="line">fn[<span class="number">1</span>]();</span><br><span class="line">fn[<span class="number">2</span>]();</span><br></pre></td></tr></table></figure></p>
<p>透過 let<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">arrFunc</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++) &#123;</span><br><span class="line">        arr.push(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(i); <span class="comment">// 0 1 2 </span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//console.log('i', i) // "error" let作用域只在for</span></span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">var</span> fn = arrFunc();</span><br><span class="line">fn[<span class="number">0</span>]();</span><br><span class="line">fn[<span class="number">1</span>]();</span><br><span class="line">fn[<span class="number">2</span>]();</span><br></pre></td></tr></table></figure></p>
<h2 id="函式工廠"><a href="#函式工廠" class="headerlink" title="函式工廠"></a>函式工廠</h2><p>給不同的值　做相同的事情<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">storeMoney</span>(<span class="params">initVal</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> money = initVal || <span class="number">1000</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">price</span>) </span>&#123;</span><br><span class="line">        money = money + price;</span><br><span class="line">        <span class="keyword">return</span> money;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> MingMoney = storeMoney(<span class="number">100</span>);</span><br><span class="line"><span class="built_in">console</span>.log(MingMoney(<span class="number">500</span>)) <span class="comment">// 600</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">storeMoney</span>(<span class="params">initVal</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> money = initVal || <span class="number">1000</span></span><br><span class="line">    <span class="comment">// 私有方法 可以做很多不同事情</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        increase: <span class="function"><span class="keyword">function</span>(<span class="params">price</span>) </span>&#123;</span><br><span class="line">            money += price</span><br><span class="line">        &#125;,</span><br><span class="line">        decrease: <span class="function"><span class="keyword">function</span>(<span class="params">price</span>) </span>&#123;</span><br><span class="line">            money -= price</span><br><span class="line">        &#125;,</span><br><span class="line">        value: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> money;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> MingMoney = storeMoney(<span class="number">100</span>);</span><br><span class="line">MingMoney.increase(<span class="number">100</span>);</span><br><span class="line">MingMoney.increase(<span class="number">25</span>);</span><br><span class="line">MingMoney.decrease(<span class="number">25</span>);</span><br><span class="line"><span class="built_in">console</span>.log(MingMoney.value()) <span class="comment">// 200</span></span><br></pre></td></tr></table></figure>
<h2 id="this"><a href="#this" class="headerlink" title="this"></a>this</h2><p>chrome / devTool / Sources / || 暫停按鈕 / 進入執行堆疊  </p>
<p><code>this</code> 為關鍵字 在每個執行環境存在  </p>
<p>this 的調用方式<br>作為物件方法  關注在哪個物件下呼叫  <code>Object.fn()</code> this 指向 Object<br>簡易呼叫  (不建議調用this)<br>bind, apply, call 方法<br>new<br>DOM事件處理器<br>箭頭函式(ES6)  </p>
<h3 id="simple-call-簡易呼叫"><a href="#simple-call-簡易呼叫" class="headerlink" title="simple call 簡易呼叫"></a>simple call 簡易呼叫</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myName = <span class="string">'Jacob'</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>, <span class="keyword">this</span>.myName)</span><br><span class="line">&#125;</span><br><span class="line">callName() <span class="comment">// this -&gt; window</span></span><br><span class="line"><span class="comment">// 盡可能不要使用simple call的this</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.myName);</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">callFn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.myName);</span><br><span class="line">    &#125;</span><br><span class="line">    callFn(); <span class="comment">//simple call 看到函式是直接執行的 就是簡易呼叫 執行閉包內函式也是</span></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// callback</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myCb</span>(<span class="params">callback</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> money = <span class="number">100</span></span><br><span class="line">    <span class="keyword">return</span> callback(money)</span><br><span class="line">&#125;</span><br><span class="line">myCb(<span class="function"><span class="keyword">function</span>(<span class="params">money</span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="keyword">this</span>.myName, money+<span class="number">100</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="comment">// forEach 後方是插入一個callback函式</span></span><br><span class="line">a.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">i</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.myName, i);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> family = &#123;</span><br><span class="line">    myName: <span class="string">'Hsu'</span>,</span><br><span class="line">    callName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// var self = this; // vm , that </span></span><br><span class="line">        setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.myName) <span class="comment">// simple call this-&gt;window 'Jacob' 無法取得物件的myName 'Hsu'</span></span><br><span class="line">            <span class="built_in">console</span>.log(self.myName) <span class="comment">// 物件的myName 'Hsu'</span></span><br><span class="line">        &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    family.callName();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Call-appply-bind"><a href="#Call-appply-bind" class="headerlink" title="Call, appply, bind"></a>Call, appply, bind</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> team = &#123;</span><br><span class="line">    myName: <span class="string">'Jacob'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">para1, para2</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>, para1, para2)</span><br><span class="line">&#125;</span><br><span class="line">fn(<span class="number">1</span>, <span class="number">2</span>); <span class="comment">//simple call</span></span><br><span class="line">fn.call(team, <span class="number">1</span>, <span class="number">2</span>); <span class="comment">// call 是立刻執行</span></span><br><span class="line">fn.apply(team, [<span class="number">3</span>,<span class="number">4</span>]); <span class="comment">// apply 是立刻執行  差別在以陣列方式呈現</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> fn2 = fn.bind(team, <span class="number">5</span>, <span class="number">6</span>); <span class="comment">// bind 非立刻執行  </span></span><br><span class="line">fn2(<span class="number">6</span>); <span class="comment">// [object Object] 5 6 順序執行參數所以是6  </span></span><br><span class="line">fn2(<span class="number">1</span>, <span class="number">2</span>); <span class="comment">// [object Object] 5 1 順序執行參數所以是1</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">para1, para2</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>, para1, para2)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 進階概念</span></span><br><span class="line">fn.call(<span class="number">1</span>, <span class="string">'Jacob'</span>, <span class="string">'Jessica'</span>) <span class="comment">//傳純值 Number&#123;1&#125; 'Jacob', 'Jessica' 已建構式方式呈現 物件的型別</span></span><br><span class="line"></span><br><span class="line">fn.call(<span class="string">'Str'</span>, <span class="string">'Jacob'</span>, <span class="string">'Jessica'</span>)</span><br><span class="line">fn.call(<span class="literal">undefined</span>, <span class="string">'Jacob'</span>, <span class="string">'Jessica'</span>) <span class="comment">// null 、undefined 將會被置換成全域變數 [object Window] 'Jacob', 'Jessica'</span></span><br></pre></td></tr></table></figure>
<p><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Function/call" target="_blank" rel="noopener">MDN call()</a>  </p>
<h3 id="嚴格模式"><a href="#嚴格模式" class="headerlink" title="嚴格模式"></a>嚴格模式</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="meta">    'use strict'</span>;</span><br><span class="line">    name = <span class="string">'Jacob'</span>;  <span class="comment">// "error" name is not defined</span></span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">para1, para2</span>) </span>&#123;</span><br><span class="line"><span class="meta">    'use strict'</span>; <span class="comment">// 有加入嚴格模式 this所指向的window會變undefined</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>, para1, para2) <span class="comment">// 1 "Jacob" "Jessica"  嚴格模式下 純值維持原型別 不以建構式方式呈現</span></span><br><span class="line">&#125;</span><br><span class="line">fn.call(<span class="number">1</span>, <span class="string">'Jacob'</span>, <span class="string">'Jessica'</span>) </span><br><span class="line">fn.call(<span class="literal">undefined</span>, <span class="string">'Jacob'</span>, <span class="string">'Jessica'</span>) <span class="comment">// undefined "Jacob" "Jessica"</span></span><br><span class="line"><span class="comment">// 簡易呼叫下 盡可能不要調用this 因為它本質就是undefined</span></span><br></pre></td></tr></table></figure>
<h3 id="this-DOM"><a href="#this-DOM" class="headerlink" title="this: DOM"></a>this: DOM</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"console.log(this)"</span>&gt;</span>this is btn<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"console.dir(this)"</span>&gt;</span>this is btn<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Console/dir" target="_blank" rel="noopener">console.dir(object)</a>  </p>
<h1 id="new"><a href="#new" class="headerlink" title="new"></a>new</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Dog</span>(<span class="params">name, color, size</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.color = color;</span><br><span class="line">    <span class="keyword">this</span>.size = size;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> Bibi = <span class="keyword">new</span> Dog(<span class="string">'比比'</span>, <span class="string">'棕色'</span>, <span class="string">'小'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(Bibi)  </span><br><span class="line"></span><br><span class="line"><span class="comment">//函式本身就是一個物件 函式物件有一個特別的屬性 prototype  </span></span><br><span class="line"><span class="comment">//透過prototype所新增的屬性 就會做原型上的方法  函式物件特有的屬性</span></span><br><span class="line">Dog.prototype.bark = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name, <span class="string">'barking'</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// __proto__ 物件上  </span></span><br><span class="line"><span class="comment">// prototype 函式上  </span></span><br><span class="line"><span class="comment">// 調整原型的方法時 最好的方式是從函式本身的原型屬性上去調整</span></span><br><span class="line"><span class="built_in">console</span>.log(Dog.prototype === Bibi.__proto__) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'bcde'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(b)</span><br><span class="line"><span class="built_in">console</span>.dir(<span class="built_in">String</span>)</span><br><span class="line"><span class="built_in">String</span>.prototype.lastText = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>[<span class="keyword">this</span>.length - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(b.lastText());</span><br><span class="line"></span><br><span class="line"><span class="built_in">Number</span>.prototype.secondPower = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span> * <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> num = <span class="number">5</span>;</span><br><span class="line"><span class="built_in">console</span>.log(num.secondPower());</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="built_in">console</span>.log(date);</span><br><span class="line"><span class="built_in">console</span>.dir(<span class="built_in">Date</span>);</span><br><span class="line"><span class="built_in">Date</span>.prototype.getFullDate = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> dd = <span class="built_in">String</span>(<span class="keyword">this</span>.getDate());</span><br><span class="line">    <span class="keyword">var</span> mm = <span class="built_in">String</span>(<span class="keyword">this</span>.getMonth()+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">var</span> yyyy = <span class="keyword">this</span>.getFullYear();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> today = yyyy + <span class="string">'/'</span> + mm + <span class="string">'/'</span> +dd;</span><br><span class="line">    <span class="keyword">return</span> today;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(date.getFullDate());</span><br></pre></td></tr></table></figure>
<h2 id="繼承"><a href="#繼承" class="headerlink" title="繼承"></a>繼承</h2><p><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/create" target="_blank" rel="noopener">Object.create()</a><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = []</span><br><span class="line"><span class="comment">//Object &gt; Array &gt; a (實體)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//原型鏈上新增一個層級  </span></span><br><span class="line"><span class="comment">//Object &gt; Animal &gt; Dog &gt; 實體</span></span><br><span class="line"><span class="comment">//Object &gt; Animal &gt; Cat &gt; 實體</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Object.create() 可以把其他物件作為原型使用</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> dog = &#123;</span><br><span class="line">    name: <span class="string">'狗'</span>,</span><br><span class="line">    bark: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">' barking'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">var</span> Corgi = <span class="built_in">Object</span>.create(dog); <span class="comment">//Corgi 把 dog 作為原型使用  </span></span><br><span class="line">Corgi.name = <span class="string">'Welsh Corgi'</span> </span><br><span class="line"><span class="built_in">console</span>.log(Corgi)</span><br></pre></td></tr></table></figure></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params">family</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.kingdom = <span class="string">'動物界'</span></span><br><span class="line">    <span class="keyword">this</span>.family = family || <span class="string">'貓科'</span></span><br><span class="line">&#125;</span><br><span class="line">Animal.prototype.move = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">' can move'</span>) </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Dog</span>(<span class="params">name, size</span>) </span>&#123;</span><br><span class="line">    Animal.call(<span class="keyword">this</span>, <span class="string">'犬科'</span>)</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.size = size || <span class="string">'small'</span></span><br><span class="line">&#125;</span><br><span class="line">Dog.prototype = <span class="built_in">Object</span>.create(Animal.prototype)</span><br><span class="line">Dog.prototype.constructor = Dog; <span class="comment">// 狗的原型原本直接繼承於動物界的原型 constructor 會被覆蓋所以補回原本建構函式</span></span><br><span class="line">Dog.prototype.bark = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">' barking'</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> Chihuahua = <span class="keyword">new</span> Dog(<span class="string">'Chihuahua'</span>,<span class="string">'small'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(Chihuahua)  </span><br><span class="line">Chihuahua.bark();</span><br><span class="line">Chihuahua.move();</span><br><span class="line">Chihuahua.family <span class="comment">// undefined  目前只有繼承原型prototype 但無繼承動物界的建構函式 Animal.call</span></span><br></pre></td></tr></table></figure>
<p>如果瀏覽器不支援 <code>Object.create()</code><br>這時候我們會寫一些程式來填補某些瀏覽器不支援的情況，我們把這些程式稱做 <code>polyfill</code></p>
<h2 id="屬性特徵"><a href="#屬性特徵" class="headerlink" title="屬性特徵"></a>屬性特徵</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    a: <span class="number">1</span>,</span><br><span class="line">    b: <span class="number">2</span>,</span><br><span class="line">    c: <span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(obj)</span><br><span class="line"><span class="comment">//Object.defineProperty()</span></span><br><span class="line"><span class="comment">// 屬性，調整屬性的特徵</span></span><br><span class="line"><span class="comment">// 1. 值  2. 可否寫入 3. 可否被刪除  4. 可否被列舉</span></span><br><span class="line"><span class="comment">//Object.defineProperty(物件, 屬性, 參數)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// being explicit</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">'a'</span>, &#123;</span><br><span class="line">  enumerable: <span class="literal">true</span>,</span><br><span class="line">  configurable: <span class="literal">true</span>,</span><br><span class="line">  writable: <span class="literal">false</span>,</span><br><span class="line">  value: <span class="number">4</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(obj)</span><br><span class="line"></span><br><span class="line"><span class="comment">// "TypeError: Cannot assign to read only property 'a' of object '#&lt;Object&gt;'</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">    'use strict'</span>;</span><br><span class="line">    obj.a = <span class="number">5</span>;</span><br><span class="line">&#125;())</span><br></pre></td></tr></table></figure>
<p><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" target="_blank" rel="noopener">Object.defineProperty()</a> </p>
<p>// 延伸的三種物件方法 preventExtensions seal  Freeze 防止擴充 封裝 凍結 直接操作物件本身</p>
<p><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/preventExtensions" target="_blank" rel="noopener">Object.preventExtensions()</a><br><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/seal" target="_blank" rel="noopener">Object.seal()</a>  無法新增刪除 也無法配置特徵 但是可以調整屬性值<br><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze" target="_blank" rel="noopener">Object.freeze()</a>  物件加上seal 且無法調整值</p>
<h3 id="Setter-And-Getter"><a href="#Setter-And-Getter" class="headerlink" title="Setter And Getter"></a>Setter And Getter</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> wallet = &#123;</span><br><span class="line">    total: <span class="number">100</span>,</span><br><span class="line">    <span class="keyword">set</span> save(price) &#123;</span><br><span class="line">        <span class="keyword">this</span>.total = <span class="keyword">this</span>.total + price / <span class="number">2</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">get</span> save() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.total / <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Getter 取得特定值的方法</span></span><br><span class="line"><span class="comment">// Setter 存值的方法</span></span><br><span class="line"><span class="comment">// wallet.total = 300;</span></span><br><span class="line">wallet.save = <span class="number">300</span>; <span class="comment">//透過Setter改變total的值</span></span><br><span class="line"><span class="built_in">console</span>.log(wallet.save) <span class="comment">//250 / 2  = 125</span></span><br></pre></td></tr></table></figure>
<p><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" target="_blank" rel="noopener">Object.defineProperty()</a><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor" target="_blank" rel="noopener">Object.getOwnPropertyDescriptor()</a>  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> wallet = &#123;</span><br><span class="line">    total: <span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(wallet, <span class="string">'save'</span>, &#123;</span><br><span class="line">  configurable: <span class="literal">true</span>,</span><br><span class="line">  <span class="keyword">set</span>: function(price) &#123;</span><br><span class="line">    <span class="keyword">this</span>.total = <span class="keyword">this</span>.total + price / <span class="number">2</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">get</span>: function() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.total / <span class="number">2</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">wallet.save = <span class="number">300</span>; <span class="comment">//透過Setter改變total的值</span></span><br><span class="line"><span class="built_in">console</span>.log(wallet); <span class="comment">//  save  250 / 2  = 125</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptor(wallet, <span class="string">'save'</span>))</span><br><span class="line"><span class="comment">// [object Object] &#123;</span></span><br><span class="line"><span class="comment">//  configurable: false,</span></span><br><span class="line"><span class="comment">//  enumerable: false,</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 取得陣列最後一個值</span></span><br><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(<span class="built_in">Array</span>.prototype, <span class="string">'lastest'</span>, &#123;</span><br><span class="line">    <span class="keyword">get</span>: function() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>[<span class="keyword">this</span>.length - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(a.lastest); <span class="comment">//3</span></span><br></pre></td></tr></table></figure>
<p>##　vue</p>
<p><a href="https://github.com/vuejs/vue/blob/dev/dist/vue.js" target="_blank" rel="noopener">https://github.com/vuejs/vue/blob/dev/dist/vue.js</a><br><code>var emptyObject = Object.freeze({});</code> 確保空物件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123; <span class="comment">//建構初始化</span></span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: <span class="string">'Hello Vue!'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(app)</span><br></pre></td></tr></table></figure>
<p><a href="https://cn.vuejs.org/v2/guide/reactivity.html" target="_blank" rel="noopener">深入响应式原理</a>  </p>
<p>当你把一个普通的 JavaScript 对象传入 Vue 实例作为 <code>data</code> 选项，Vue 将遍历此对象所有的属性，并使用 <code>Object.defineProperty</code> 把这些属性全部转为 <code>getter/setter</code>。Object.defineProperty 是 ES5 中一个无法 shim 的特性，这也就是 Vue 不支持 IE8 以及更低版本浏览器的原因。</p>
<p><a href="https://juejin.im/post/5cb51871f265da0368145069" target="_blank" rel="noopener">Vue 理解之白话 getter/setter</a><br><a href="https://github.com/vuejs/vue/blob/dev/dist/vue.js" target="_blank" rel="noopener">https://github.com/vuejs/vue/blob/dev/dist/vue.js</a><br>proxySetter  reactiveSetter  <code>app.obj === app._data.obj</code><br>Vue 响应式核心就是，getter 的时候会收集依赖，setter 的时候会触发依赖更新</p>
<h2 id="Let"><a href="#Let" class="headerlink" title="Let"></a>Let</h2><p>var的作用域在函數(function) 裡<br>let的作用域則是在區塊(block) 裡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(i) <span class="comment">//window.i 全域 汙染整個作用域</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">'Jacob'</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> name = <span class="string">'Hsu'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(name) <span class="comment">//Jacob</span></span><br></pre></td></tr></table></figure>
<h2 id="const"><a href="#const" class="headerlink" title="const"></a>const</h2><p>利用 const 可以做到除了被凍結 還能不被賦值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">    name: <span class="string">'黨工'</span>,</span><br><span class="line">    money: <span class="number">500</span></span><br><span class="line">&#125;</span><br><span class="line">person.name = <span class="string">'網軍'</span></span><br><span class="line"><span class="built_in">Object</span>.freeze(person);</span><br><span class="line">person.money = <span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line">person = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// devTool console</span></span><br><span class="line">person <span class="comment">// var &#123;&#125;</span></span><br><span class="line">person <span class="comment">// const</span></span><br></pre></td></tr></table></figure>
<p>let TDZ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arg = <span class="string">'first'</span>;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//創造</span></span><br><span class="line">    <span class="keyword">let</span> arg; <span class="comment">// 暫時性死區 TDZ 有hoisting但鎖住</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//執行</span></span><br><span class="line">    <span class="built_in">console</span>.log(arg);<span class="comment">// first</span></span><br><span class="line">    <span class="keyword">let</span> arg = <span class="string">'second'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>1 let 一樣有創造階段<br>2 但從創造到實際宣告的階段會出現TDZ 這個區域無法呼叫變數<br>3 有創造到執行的概念，但不會預先出現<br>(文件不會表明這與 var 的Hoisting相同概念)</p>
<h2 id="ES6-Airbnb"><a href="#ES6-Airbnb" class="headerlink" title="ES6 Airbnb"></a>ES6 Airbnb</h2><p>Airbnb 規範文件 (ES6 版本)：<br><a href="https://github.com/airbnb/javascript" target="_blank" rel="noopener">https://github.com/airbnb/javascript</a></p>
<p>ESLint 安裝教學：<br><a href="https://www.youtube.com/watch?v=WiommcFaYvY" target="_blank" rel="noopener">https://www.youtube.com/watch?v=WiommcFaYvY</a></p>
<p>? How would you like to use ESLint? (Use arrow keys)<br>  To check syntax only<br>  To check syntax and find problems<br>❯ To check syntax, find problems, and enforce code style<br>如果要使用 Airbnb 的規範，請選擇最後一個選項。</p>
<h2 id="箭頭函數"><a href="#箭頭函數" class="headerlink" title="箭頭函數"></a>箭頭函數</h2><p>//沒有傳統函數 arguments 參數<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> nums = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</span><br><span class="line">&#125;</span><br><span class="line">nums(<span class="number">10</span>, <span class="number">50</span>, <span class="number">100</span>, <span class="number">50</span>, <span class="number">5</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> nums = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>); <span class="comment">//Uncaught ReferenceError</span></span><br><span class="line">&#125;</span><br><span class="line">nums(<span class="number">10</span>, <span class="number">50</span>, <span class="number">100</span>, <span class="number">50</span>, <span class="number">5</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> nums = <span class="function">(<span class="params">...arg</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arg); <span class="comment">//Uncaught ReferenceError</span></span><br><span class="line">&#125;</span><br><span class="line">nums(<span class="number">10</span>, <span class="number">50</span>, <span class="number">100</span>, <span class="number">50</span>, <span class="number">5</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<p>箭頭函式沒有自己的this 他的this指向外層</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ele = <span class="built_in">document</span>.querySelector(<span class="string">'p'</span>);</span><br><span class="line">ele.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>)</span><br><span class="line">&#125;);</span><br><span class="line">ele.addEventListener(<span class="string">'click'</span>, () =&gt;&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>) <span class="comment">//指到不一樣的位置 window 全域</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="箭頭函數-常見問題"><a href="#箭頭函數-常見問題" class="headerlink" title="箭頭函數 常見問題"></a>箭頭函數 常見問題</h3><p>不能直接回傳物件實字<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arrFn = <span class="function"><span class="params">()</span> =&gt;</span> &#123;<span class="attr">data</span>:<span class="number">1</span>&#125;</span><br><span class="line"><span class="built_in">console</span>.log(arrFn()) <span class="comment">//undefined</span></span><br><span class="line"><span class="keyword">const</span> arrFnr = <span class="function"><span class="params">()</span> =&gt;</span> (&#123;<span class="attr">data</span>:<span class="number">1</span>&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(arrFnr()) <span class="comment">//&#123;data: 1&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>搭配判斷式不能直接接箭頭函式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">0</span></span><br><span class="line"><span class="keyword">const</span> numFn = num || <span class="function"><span class="params">()</span> =&gt;</span> <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(numFn)</span><br><span class="line"><span class="keyword">const</span> numFunction = num || <span class="function">(<span class="params">(</span>) =&gt;</span> <span class="number">1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(numFunction) <span class="comment">// 加括號修正</span></span><br></pre></td></tr></table></figure>
<p>物件裡面搭配箭頭函樹會出錯 指向是不同的</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    data: &#123;</span><br><span class="line">        num: <span class="number">1</span> </span><br><span class="line">    &#125;,</span><br><span class="line">    created: <span class="function"><span class="params">()</span> =&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.num) <span class="comment">//FAIL</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>平均數</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> average = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// arguments 是類陣列沒有陣列方法 用Array.from轉成純陣列</span></span><br><span class="line">    <span class="keyword">const</span> nums = <span class="built_in">Array</span>.from(<span class="built_in">arguments</span>);</span><br><span class="line">    <span class="keyword">const</span> total = nums.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">acc, val</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> acc + val</span><br><span class="line">    &#125;, <span class="number">0</span>); <span class="comment">// 0 是第一次執行的前一個值</span></span><br><span class="line">    <span class="built_in">console</span>.log(total);</span><br><span class="line">    <span class="keyword">return</span> total / nums.length;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(average(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)) <span class="comment">// 15  3</span></span><br></pre></td></tr></table></figure>
<p><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/from" target="_blank" rel="noopener">Array.from()</a><br><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce" target="_blank" rel="noopener">Array.reduce()</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> average = <span class="function">(<span class="params">...nums</span>) =&gt;</span> nums.reduce( <span class="function">(<span class="params">acc, val </span>) =&gt;</span> acc + val, <span class="number">0</span>) / nums.length</span><br><span class="line"><span class="built_in">console</span>.log(average(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)) <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

        <div id="react-support-footer-root"></div>
      </div>
    </div>
  </div>
</div>

    


    

    <!-- js vendors -->
    <script src="//code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/lunr.js/2.1.0/lunr.min.js"></script>

    <!-- js source  -->
    <script src="/javascript/script/doc.js"></script>

    

  </body>
</html>
